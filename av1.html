<!DOCTYPE html> 
<html> 
  <head>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script>
      /*
      SELECT ANOMBRE, CALIFICACION, TURNO
FROM ALUMNOS, INSCRITOS, MATERIAS, CARRERAS
WHERE MNOMBRE='LENAUT2' AND TURNO ='TM'
AND CNOMBRE='ISC' AND SEMESTRE='2020I' AND CALIFICACION>=70
      */
      function agregar(no, linea, value,tipo, codigo){

          document.getElementById("bodyT").insertRow(-1).innerHTML =
        '<td class="col-2 p-2">'+linea+'</td>'+
          '<td class="col-2 p-2">linea</td>'+
          '<td class="col-2 p-1">'+value+'</td>'+
          '<td class="col-2 p-2">'+tipo+'</td>'+
          '<td class="col-2 p-2">'+codigo+'</td>'+
        '</tr> ';
      }
      function getVal(no, linea, value, codigo){
        if(/SELECT/.test(value)){
            agregar(no, linea, "SELECT",1, 10);
        }else if(/FROM/.test(value)){
            agregar(no, linea, value ,1, 11);
        }else if(/WHERE/.test(value)){
            agregar(no, linea, value ,1, 12);
        }else if(/IN/.test(value)){
            agregar(no, linea, value ,1, 13);
        }else if(/AND/.test(value)){
            agregar(no, linea, value ,1, 14);
        }else if(/OR/.test(value)){
            agregar(no, linea, value ,1, 15);
        }else if(/CREATE/.test(value)){
            agregar(no, linea, value ,1, 16);
        }else if(/TABLE/.test(value)){
            agregar(no, linea, value ,1, 17);
        }else if(/CHAR/.test(value)){
            agregar(no, linea, value ,1, 18);
        }else if(/NUMERIC/.test(value)){
            agregar(no, linea, value ,1, 19);
        }else if(/NOT/.test(value)){
            agregar(no, linea, value ,1, 20);
        }else if(/NULL/.test(value)){
            agregar(no, linea, value ,1, 21);
        }else if(/CONSTRAINT/.test(value)){
            agregar(no, linea, value ,1, 22);
        }else if(/KEY/.test(value)){
            agregar(no, linea, value ,1, 23);
        }else if(/PRIMARY/.test(value)){
            agregar(no, linea, value ,1, 24);
        }else if(/FOREIGN/.test(value)){
            agregar(no, linea, value ,1, 25);
        }else if(/REFERENCES/.test(value)){
            agregar(no, linea, value ,1, 26);
        }else if(/INSERT/.test(value)){
            agregar(no, linea, value ,1, 27);
        }else if(/INTO/.test(value)){
            agregar(no, linea, value ,1, 28);
        }else if(/VALUES/.test(value)){
            agregar(no, linea, value ,1, 29);
        }else if(/=/.test(value)){
            agregar(no, linea, value ,8, 83);
        }else if(/,/.test(value)){
            agregar(no, linea, value ,5, 50);
        }
      }
      function regExp(value){
        var cadena = "SELECT ANOMBRE, CALIFICACION, TURNO"+
"FROM ALUMNOS, INSCRITOS, MATERIAS, CARRERAS"+
"WHERE MNOMBRE='LENAUT2' AND TURNO ='TM'"+
"AND CNOMBRE='ISC' AND SEMESTRE='2020I' AND CALIFICACION>=70";
        cadena=value;
        var expresion =/(?:SELECT|ANOMBRE|FROM|WHERE|IN|AND|OR|CREATE|TABLE|CHAR|NUMERIC|NOT|NULL|CONSTRAINT|KEY|PRIMARY|FOREIGN|REFERENCES|INSERT|INTO|VALUES|=|,)/g;
        var array_emparejamientos = cadena.match(expresion);
        if(expresion.test(cadena)){
          console.log(array_emparejamientos);
          var aux;
          for(var i=0; i< array_emparejamientos.length; i++){
            aux=array_emparejamientos[i];
            console.log(aux+"d");
            getVal(1,i+1,aux,1);
          }
        }else{
          alert("no hay similitudes");
        }
      }
        function getValueInput() {
          var textD = document.getElementById('textScan').value;
          if(document.getElementById('textScan').value!="")
            regExp(textD);
            else
              alert("Ingrese expresion");
        }
    </script> 
  </head>
<body> 
  
  <h4> 
AVANCE
  </h4> 
  <form action="#">

    <textarea class="domTextElement"  id="textScan"style="width: 50%; height: 271px;" required></textarea>
  <input type="submit" onclick="getValueInput()" value="VALIDAR">
    
    <p id="valueInput"></p> 
    <center>
      <div  class="col-10">
        <table id="bodyT" class="table table-bordered table-striped col-12 bodyTable">
          <tr>
            <td class="col-2 p-2">No.</td>
            <td class="col-2 p-2">linea</td>
            <td class="col-2 p-1">TOKEN</td>
            <td class="col-2 p-2">Tipo</td>
            <td class="col-2 p-2">Codigo</td>
          </tr>  
      </table>
    </div>
  </center>

</form>
</body> 
  
</html> 